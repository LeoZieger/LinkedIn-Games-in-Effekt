module src/test

import test
import process

import src/util/gamegrid
import src/util/vec2i
import src/util/randomutil
import src/util/connection
import src/games/queens
import src/games/zip
import src/games/tango

def main(): Unit = {
  val testResults =
    [ gamegrid::testSuite(),
      vec2i::testSuite(),
      randomutil::testSuite(),
      connection::testSuite(),
      queens::testSuite(),
      zip::testSuite(),
      tango::testSuite()
    ]

  val allTestsSucceeded = testResults.all { res => res }
  val exitCode = if (allTestsSucceeded) 0 else 1
  process::exit(exitCode)
}
